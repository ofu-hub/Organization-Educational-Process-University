@using Web.Models
@using Web.Models.Utils
@model IEnumerable<Couple>
@{
    ViewData["Title"] = "Home Page";
}

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
<link href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css" rel="stylesheet" />

<div class="text-center">
    <h1 class="display-4">Рассписание занятий</h1>


    <div class="input-group">
        <span class="input-group-addon">Поиск</span>
        <input id="filter" type="text" class="form-control">
    </div>

    <div>
        <div>
            <span>Первая неделя</span>
            <table class="table table-hover text-center">
                <thead>
                    <tr>
                        <th>
                            День
                        </th>
                        <th>
                            Время
                        </th>
                        <th>
                            Аудитория
                        </th>
                        <th>
                            Дисциплина
                        </th>
                        <th>
                            Преподователь
                        </th>
                        <th>
                            Тип
                        </th>
                        <th>
                            Группы
                        </th>
                    </tr>
                </thead>
                <tbody class="searchable">
                    @{
                        foreach (var c in Model)
                        {
                            if (c.WeekDay.Week.Name == "Нечётная")
                            {
                                <tr>
                                    <td>
                                        @c.WeekDay.Name
                                    </td>
                                    <td>
                                        @{
                                            switch (c.LectureTime)
                                            {
                                                case LectureTime.First:
                                                    <text>
                                                        8:30-10:00
                                                    </text>
                                                    break;
                                                case LectureTime.Second:
                                                    <text>
                                                        10:15-11:45
                                                    </text>
                                                    break;
                                                case LectureTime.Third:
                                                    <text>
                                                        12:00-13:30
                                                    </text>
                                                    break;
                                                case LectureTime.Fourth:
                                                    <text>
                                                        14:00-15:30
                                                    </text>
                                                    break;
                                                case LectureTime.Fifth:
                                                    <text>
                                                        15:45-17:15
                                                    </text>
                                                    break;
                                                case LectureTime.Sixth:
                                                    <text>
                                                        17:30-19:00
                                                    </text>
                                                    break;
                                                case LectureTime.Seventh:
                                                    <text>
                                                        19:15-20:45
                                                    </text>
                                                    break;
                                            }
                                        }
                                    </td>
                                    <td>
                                        @{
                                            if (c.Audience.Campus.Number == "" || c.Audience.Campus.Number == string.Empty)
                                            {
                                                @c.Audience.Number
                                            }
                                            else
                                            {
                                                @("корп. " + @c.Audience.Campus.Number + ", ауд. " + @c.Audience.Number)
                                            }
                                        }
                                    </td>
                                    <td>
                                        @c.Discipline.Title
                                    </td>
                                    <td>
                                        @(c.Teacher.Name + " " + c.Teacher.Surname + " " + c.Teacher.Patronymic)
                                    </td>
                                    <td>
                                        @{
                                            switch (@c.LessonType.Title)
                                            {
                                                case "Лекция":
                                                    <div class="rounded p-2 mb-1 bg-primary text-white">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-journal-text" viewBox="0 0 16 16">
                                                            <path d="M5 10.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z" />
                                                            <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z" />
                                                            <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z" />
                                                        </svg>
                                                        <span>Лекция</span>
                                                    </div>
                                                    break;
                                                case "Практика":
                                                    <div class="rounded p-2 mb-1 bg-info text-white">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pen" viewBox="0 0 16 16">
                                                            <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001zm-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708l-1.585-1.585z" />
                                                        </svg>
                                                        <span>Практика</span>
                                                    </div>
                                                    break;
                                                case "Лабораторная":
                                                    <div class="rounded p-2 mb-1 bg-success text-white">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-brush" viewBox="0 0 16 16">
                                                            <path d="M15.825.12a.5.5 0 0 1 .132.584c-1.53 3.43-4.743 8.17-7.095 10.64a6.067 6.067 0 0 1-2.373 1.534c-.018.227-.06.538-.16.868-.201.659-.667 1.479-1.708 1.74a8.118 8.118 0 0 1-3.078.132 3.659 3.659 0 0 1-.562-.135 1.382 1.382 0 0 1-.466-.247.714.714 0 0 1-.204-.288.622.622 0 0 1 .004-.443c.095-.245.316-.38.461-.452.394-.197.625-.453.867-.826.095-.144.184-.297.287-.472l.117-.198c.151-.255.326-.54.546-.848.528-.739 1.201-.925 1.746-.896.126.007.243.025.348.048.062-.172.142-.38.238-.608.261-.619.658-1.419 1.187-2.069 2.176-2.67 6.18-6.206 9.117-8.104a.5.5 0 0 1 .596.04zM4.705 11.912a1.23 1.23 0 0 0-.419-.1c-.246-.013-.573.05-.879.479-.197.275-.355.532-.5.777l-.105.177c-.106.181-.213.362-.32.528a3.39 3.39 0 0 1-.76.861c.69.112 1.736.111 2.657-.12.559-.139.843-.569.993-1.06a3.122 3.122 0 0 0 .126-.75l-.793-.792zm1.44.026c.12-.04.277-.1.458-.183a5.068 5.068 0 0 0 1.535-1.1c1.9-1.996 4.412-5.57 6.052-8.631-2.59 1.927-5.566 4.66-7.302 6.792-.442.543-.795 1.243-1.042 1.826-.121.288-.214.54-.275.72v.001l.575.575zm-4.973 3.04.007-.005a.031.031 0 0 1-.007.004zm3.582-3.043.002.001h-.002z" />
                                                        </svg>
                                                        <span>Лабораторная</span>
                                                    </div>
                                                    break;
                                            }
                                        }
                                    </td>
                                    <td>
                                        @foreach(var g in c.Groups)
                                        {
                                            @(g.Title + "\n")
                                        }
                                    </td>
                                </tr>
                            }
                        }
                    }
                </tbody>
            </table>
        </div>

        <div>
            <span>Вторая неделя</span>
            <table class="table table-hover text-center">
                <thead>
                    <tr>
                        <th>
                            День
                        </th>
                        <th>
                            Время
                        </th>
                        <th>
                            Аудитория
                        </th>
                        <th>
                            Дисциплина
                        </th>
                        <th>
                            Преподователь
                        </th>
                        <th>
                            Тип
                        </th>
                        <th>
                            Группы
                        </th>
                    </tr>
                </thead>
                <tbody class="searchable">
                    @{
                        foreach (var c in Model)
                        {
                            if (c.WeekDay.Week.Name == "Чётная")
                            {
                                <tr>
                                    <td>
                                        @c.WeekDay.Name
                                    </td>
                                    <td>
                                        @{
                                            switch (c.LectureTime)
                                            {
                                                case LectureTime.First:
                                                    <text>
                                                        8:30-10:00
                                                    </text>
                                                    break;
                                                case LectureTime.Second:
                                                    <text>
                                                        10:15-11:45
                                                    </text>
                                                    break;
                                                case LectureTime.Third:
                                                    <text>
                                                        12:00-13:30
                                                    </text>
                                                    break;
                                                case LectureTime.Fourth:
                                                    <text>
                                                        14:00-15:30
                                                    </text>
                                                    break;
                                                case LectureTime.Fifth:
                                                    <text>
                                                        15:45-17:15
                                                    </text>
                                                    break;
                                                case LectureTime.Sixth:
                                                    <text>
                                                        17:30-19:00
                                                    </text>
                                                    break;
                                                case LectureTime.Seventh:
                                                    <text>
                                                        19:15-20:45
                                                    </text>
                                                    break;
                                            }
                                        }
                                    </td>
                                    <td>
                                        @{
                                            if (c.Audience.Campus.Number == "" || c.Audience.Campus.Number == string.Empty)
                                            {
                                                @c.Audience.Number
                                            }
                                            else
                                            {
                                                @("корп. " + @c.Audience.Campus.Number + ", ауд. " + @c.Audience.Number)
                                            }
                                        }
                                    </td>
                                    <td>
                                        @c.Discipline.Title
                                    </td>
                                    <td>
                                        @(c.Teacher.Name + " " + c.Teacher.Surname + " " + c.Teacher.Patronymic)
                                    </td>
                                    <td>
                                        @{
                                            switch (@c.LessonType.Title)
                                            {
                                                case "Лекция":
                                                    <div class="rounded p-2 mb-1 bg-primary text-white">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-journal-text" viewBox="0 0 16 16">
                                                            <path d="M5 10.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5zm0-2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z" />
                                                            <path d="M3 0h10a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-1h1v1a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v1H1V2a2 2 0 0 1 2-2z" />
                                                            <path d="M1 5v-.5a.5.5 0 0 1 1 0V5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0V8h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1zm0 3v-.5a.5.5 0 0 1 1 0v.5h.5a.5.5 0 0 1 0 1h-2a.5.5 0 0 1 0-1H1z" />
                                                        </svg>
                                                        <span>Лекция</span>
                                                    </div>
                                                    break;
                                                case "Практика":
                                                    <div class="rounded p-2 mb-1 bg-info text-white">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pen" viewBox="0 0 16 16">
                                                            <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001zm-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708l-1.585-1.585z" />
                                                        </svg>
                                                        <span>Практика</span>
                                                    </div>
                                                    break;
                                                case "Лабораторная":
                                                    <div class="rounded p-2 mb-1 bg-success text-white">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-brush" viewBox="0 0 16 16">
                                                            <path d="M15.825.12a.5.5 0 0 1 .132.584c-1.53 3.43-4.743 8.17-7.095 10.64a6.067 6.067 0 0 1-2.373 1.534c-.018.227-.06.538-.16.868-.201.659-.667 1.479-1.708 1.74a8.118 8.118 0 0 1-3.078.132 3.659 3.659 0 0 1-.562-.135 1.382 1.382 0 0 1-.466-.247.714.714 0 0 1-.204-.288.622.622 0 0 1 .004-.443c.095-.245.316-.38.461-.452.394-.197.625-.453.867-.826.095-.144.184-.297.287-.472l.117-.198c.151-.255.326-.54.546-.848.528-.739 1.201-.925 1.746-.896.126.007.243.025.348.048.062-.172.142-.38.238-.608.261-.619.658-1.419 1.187-2.069 2.176-2.67 6.18-6.206 9.117-8.104a.5.5 0 0 1 .596.04zM4.705 11.912a1.23 1.23 0 0 0-.419-.1c-.246-.013-.573.05-.879.479-.197.275-.355.532-.5.777l-.105.177c-.106.181-.213.362-.32.528a3.39 3.39 0 0 1-.76.861c.69.112 1.736.111 2.657-.12.559-.139.843-.569.993-1.06a3.122 3.122 0 0 0 .126-.75l-.793-.792zm1.44.026c.12-.04.277-.1.458-.183a5.068 5.068 0 0 0 1.535-1.1c1.9-1.996 4.412-5.57 6.052-8.631-2.59 1.927-5.566 4.66-7.302 6.792-.442.543-.795 1.243-1.042 1.826-.121.288-.214.54-.275.72v.001l.575.575zm-4.973 3.04.007-.005a.031.031 0 0 1-.007.004zm3.582-3.043.002.001h-.002z" />
                                                        </svg>
                                                        <span>Лабораторная</span>
                                                    </div>
                                                    break;
                                            }
                                        }
                                    </td>
                                    <td>
                                        @foreach (var g in c.Groups)
                                        {
                                            @(g.Title + "\n")
                                        }
                                    </td>
                                </tr>
                            }
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {

        (function ($) {

            $('#filter').keyup(function () {

                var rex = new RegExp($(this).val(), 'i');
                $('.searchable tr').hide();
                $('.searchable tr').filter(function () {
                    return rex.test($(this).text());
                }).show();

            })

        }(jQuery));

    });
</script>